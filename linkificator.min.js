$.extend($.expr[":"],{inView:function(e){var t=document.documentElement.scrollTop||document.body.scrollTop,n=$(e).offset().top,r=window.innerHeight&&window.innerHeight<$(window).height()?window.innerHeight:$(window).height();return n>t&&$(e).height()+n<t+r}});(function(e){var t=/(\b(http|https):(\\\/\\\/|\/\/)[-A-Z0-9+&@#\\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\\/%=~_|])/ig;var n=/\\/g;var r=function(e){if(typeof e=="string"){var r=e.match(t);if(r){for(i=0;i<r.length;i++){var s=r[i];var o=s.replace(n,"");e=e.replace(s,'<a href="'+o+'" target="_blank">'+o+"</a>")}}}return e};var s=function(e){var t="{<ul>";jQuery.each(e,function(e,n){if(typeof n=="object"&&n!=null){n=s(n)}else{n=r(n)}t+="<li><strong>"+e+"</strong>: "+n+"</li>"});t+="</ul>}";return t};var o=function(){var t="bottom";var n;if($.browser.webkit){n=$("body")}else{n=$("html")}if(Math.abs(n.scrollTop()+$(e).height()-$("body").height())>1){t="middle"}var r=$(".message:inView:first").parent();var i=false;$("li.event .message").each(function(e,t){var n=$(t);if(jQuery.data(t,"paperTrailLinkificatorProcessed")){return true}try{var r=jQuery.parseJSON(n.html())}catch(o){}if(r){i=true;var u=s(r);n.html(u)}jQuery.data(t,"paperTrailLinkificatorProcessed",true)});if(i){if(t=="bottom"){n.scrollTop($("body").height())}else{n.scrollTop(r.offset().top-53)}}};o();if(!e.paperTrailLinkificatorBookmarkletRunning){e.paperTrailLinkificatorBookmarkletRunning=true;$("#event_list").bind("papertrail:eventsLoaded",function(){o()})}})(window);